@use 'mixins' as *;

// Review Carousel Styles
.review-carousel {
  position: relative;

  // Hide radio inputs
  input[type="radio"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
  }

  // Container for review cards to stack them
  .grid { 
    position: relative;
  } 

  .reviews-inner {
    gap: var(--grid-gap) 0; /* 64px */
  }

  // Hide all review cards by default
  .review-card {
    grid-column: 1 / span 2;
    grid-row: 1;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    gap: var(--spacing-4xl); /* 64px */

    @include tablet-down {
      gap: var(--spacing-xl) 0; /* 48px */
    }
  }

  // Show review card when corresponding radio is checked
  #review-1:checked ~ .grid .review-card[data-review="0"],
  #review-2:checked ~ .grid .review-card[data-review="1"],
  #review-3:checked ~ .grid .review-card[data-review="2"],
  #review-4:checked ~ .grid .review-card[data-review="3"],
  #review-5:checked ~ .grid .review-card[data-review="4"] {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    position: relative;
  }

  // Navigation buttons - hide all by default
  .review-navigation {
    label {
      position: absolute;
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
      cursor: pointer;
      // transition: opacity 0.2s ease;
    }
  }

  // When review-1 is checked, show prev (review-5) and next (review-2)
  #review-1:checked ~ .grid .review-navigation {
    label[for="review-5"]:nth-of-type(1),
    label[for="review-2"]:nth-of-type(2) {
      position: relative;
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
  }

  // When review-2 is checked, show prev (review-1) and next (review-3)
  #review-2:checked ~ .grid .review-navigation {
    label[for="review-1"]:nth-of-type(3),
    label[for="review-3"]:nth-of-type(4) {
      position: relative;
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
  }

  // When review-3 is checked, show prev (review-2) and next (review-4)
  #review-3:checked ~ .grid .review-navigation {
    label[for="review-2"]:nth-of-type(5),
    label[for="review-4"]:nth-of-type(6) {
      position: relative;
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
  }

  // When review-4 is checked, show prev (review-3) and next (review-5)
  #review-4:checked ~ .grid .review-navigation {
    label[for="review-3"]:nth-of-type(7),
    label[for="review-5"]:nth-of-type(8) {
      position: relative;
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
  }

  // When review-5 is checked, show prev (review-4) and next (review-1)
  #review-5:checked ~ .grid .review-navigation {
    label[for="review-4"]:nth-of-type(9),
    label[for="review-1"]:nth-of-type(10) {
      position: relative;
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
  }
}
