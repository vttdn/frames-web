var _____WB$wombat$assign$function_____=function(e){return self._wb_wombat&&self._wb_wombat.local_init&&self._wb_wombat.local_init(e)||self[e]};self.__WB_pmw||(self.__WB_pmw=function(e){return this.__WB_source=e,this});{_____WB$wombat$assign$function_____("window");let e=_____WB$wombat$assign$function_____("self"),t=_____WB$wombat$assign$function_____("document");_____WB$wombat$assign$function_____("location"),_____WB$wombat$assign$function_____("top"),_____WB$wombat$assign$function_____("parent"),_____WB$wombat$assign$function_____("frames"),_____WB$wombat$assign$function_____("opener");!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||e).TypeIt=n()}(this,(function(){"use strict";const e=e=>Array.isArray(e),n=t=>e(t)?t:[t],r=e=>Array.from(e),i=e=>t.createTextNode(e);let a=e=>([...e.childNodes].forEach((e=>{if(e.nodeValue)return[...e.nodeValue].forEach((t=>{e.parentNode.insertBefore(i(t),e)})),void e.remove();a(e)})),e);const o=e=>{let n=t.implementation.createHTMLDocument();return n.body.innerHTML=e,a(n.body)},s="ti-cursor",l={started:!1,completed:!1,frozen:!1,destroyed:!1},u={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map((e=>({opacity:e}))),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}};function c(e,n=!1,r=!1){let i,a=e.querySelector(".ti-cursor"),o=t.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:e=>{if(a&&r){if(e.classList?.contains(s))return NodeFilter.FILTER_ACCEPT;if(a.contains(e))return NodeFilter.FILTER_REJECT}return e.classList?.contains(s)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),l=[];for(;i=o.nextNode();)i.originalParent||(i.originalParent=i.parentNode),l.push(i);return n?l.reverse():l}function f(e,t=!0){return t?c(o(e)):r(e).map(i)}const d=e=>t.createElement(e),h=(e,n="")=>{let r=d("style");r.id=n,r.appendChild(i(e)),t.head.appendChild(r)},_=t=>(e(t)||(t=[t/2,t/2]),t),p=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));let m=e=>e/2;const y=e=>"value"in e;let g=e=>"function"==typeof e?e():e;const b=e=>Number.isInteger(e);let w=(e,n=t,r=!1)=>n["querySelector"+(r?"All":"")](e);const T=(e,t)=>Object.assign({},e,t);let $={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"};const v=(e,t)=>new Array(t).fill(e),E=({queueItems:e,selector:t,cursorPosition:n,to:r})=>{if(b(t))return-1*t;let i=new RegExp("END","i").test(r),a=t?[...e].reverse().findIndex((({char:e})=>{let n=e.parentElement,r=n.matches(t);return!(!i||!r)||r&&n.firstChild.isSameNode(e)})):-1;return a<0&&(a=i?0:e.length-1),a-n+(i?0:1)};let P=e=>new Promise((t=>{requestAnimationFrame((async()=>{t(await e())}))})),S=e=>e?.getAnimations().find((t=>t.id===e.dataset.tiAnimationId)),N=({cursor:e,frames:t,options:n})=>{let r=e.animate(t,n);return r.pause(),r.id=e.dataset.tiAnimationId,P((()=>{P((()=>{r.play()}))})),r},L=e=>e.func?.call(null),C=async({index:e,queueItems:t,wait:n,cursor:r,cursorOptions:i})=>{let a=t[e][1],o=[],s=e,l=a,u=()=>l&&!l.delay,c=a.shouldPauseCursor()&&i.autoPause;for(;u();)o.push(l),u()&&s++,l=t[s]?t[s][1]:null;if(o.length)return await P((async()=>{for(let e of o)await L(e)})),s-1;let f,d=S(r);return d&&(f={...d.effect.getComputedTiming(),delay:c?i.autoPauseDelay:0}),await n((async()=>{d&&c&&d.cancel(),await P((()=>{L(a)}))}),a.delay),await(({cursor:e,options:t,cursorOptions:n})=>{if(!e||!n)return;let r,i=S(e);i&&(t.delay=i.effect.getComputedTiming().delay,r=i.currentTime,i.cancel());let a=N({cursor:e,frames:n.animation.frames,options:t});return r&&(a.currentTime=r),a})({cursor:r,options:f,cursorOptions:i}),e};return function(e,t={}){let i=async(e,t,n=!1)=>{U.frozen&&await new Promise((e=>{this.unfreeze=()=>{U.frozen=!1,e()}})),n||await X.beforeStep(this),await((e,t,n)=>new Promise((r=>{n.push(setTimeout((async()=>{await e(),r()}),t||0))})))(e,t,V),n||await X.afterStep(this)},P=(e,t)=>C({index:e,queueItems:t,wait:i,cursor:Z,cursorOptions:X.cursor}),S=e=>((e,t)=>{if(!e)return;let n=e.parentNode;(n.childNodes.length>1||n.isSameNode(t)?e:n).remove()})(e,z),L=()=>y(z),D=(e=0)=>function(e){let{speed:t,deleteSpeed:n,lifeLike:r}=e;return n=null!==n?n:t/3,r?[p(t,m(t)),p(n,m(n))]:[t,n]}(X)[e],I=()=>(e=>y(e)?r(e.value):c(e,!0).filter((e=>!(e.childNodes.length>0))))(z),B=(e,t)=>(K.add(e),((e={})=>{let t=e.delay;t&&K.add({delay:t})})(t),this),M=()=>J??Q,x=(e={})=>[{func:()=>k(e)},{func:()=>k(X)}],A=e=>{let t=X.nextStringDelay;K.add([{delay:t[0]},...e,{delay:t[1]}])},W=async()=>{if(!L()&&Z&&z.appendChild(Z),Y){((e,t)=>{let n=`[data-typeit-id='${e}'] .ti-cursor`,r=getComputedStyle(t),i=Object.entries($).reduce(((e,[t,n])=>`${e} ${t}: var(--ti-cursor-${t}, ${n||r[t]});`),"");h(`${n} { display: inline-block; width: 0; ${i} }`,e)})(G,z),Z.dataset.tiAnimationId=G;let{animation:e}=X.cursor,{frames:t,options:n}=e;N({frames:t,cursor:Z,options:{duration:X.cursorSpeed,...n}})}},H=async(e=!0)=>{U.started=!0;let t=t=>{K.done(t,!e)};try{let n=[...K.getQueue()];for(let e=0;e<n.length;e++){let[r,i]=n[e];if(!i.done){if(!i.deletable||i.deletable&&I().length){let r=await P(e,n);Array(r-e).fill(e+1).map(((e,t)=>e+t)).forEach((e=>{let[r]=n[e];t(r)})),e=r}t(r)}}if(!e)return this;if(U.completed=!0,await X.afterComplete(this),!X.loop)throw"";let r=X.loopDelay;i((async()=>{await(async e=>{let t=M();t&&await O({value:t});let n=I().map((e=>[Symbol(),{func:q,delay:D(1),deletable:!0,shouldPauseCursor:()=>!0}]));for(let e=0;e<n.length;e++)await P(e,n);K.reset(),K.set(0,{delay:e})})(r[0]),H()}),r[1])}catch(e){}return this},O=async e=>{var t,n,r;t=e,n=Q,r=I(),Q=Math.min(Math.max(n+t,0),r.length),((e,t,n)=>{let r=t[n-1],i=w(".ti-cursor",e);(e=r?.parentNode||e).insertBefore(i,r||null)})(z,I(),Q)},F=e=>((e,t)=>{if(y(e))return void(e.value=`${e.value}${t.textContent}`);t.innerHTML="";let n=(r=t.originalParent,/body/i.test(r?.tagName)?e:t.originalParent||e);var r;n.insertBefore(t,w(".ti-cursor",n)||null)})(z,e),k=async e=>X=T(X,e),R=async()=>{L()?z.value="":I().forEach(S)},q=()=>{let e=I();e.length&&(L()?z.value=z.value.slice(0,-1):S(e[Q]))};this.break=function(e){return B({func:()=>F(d("BR")),typeable:!0},e)},this.delete=function(e=null,t={}){e=g(e);let n=x(t),r=e,{instant:i,to:a}=t,o=K.getTypeable(),s=null===r?o.length:b(r)?r:E({queueItems:o,selector:r,cursorPosition:M(),to:a});return B([n[0],...v({func:q,delay:i?0:D(1),deletable:!0},s),n[1]],t)},this.empty=function(e={}){return B({func:R},e)},this.exec=function(e,t={}){let n=x(t);return B([n[0],{func:()=>e(this)},n[1]],t)},this.move=function(e,t={}){e=g(e);let n=x(t),{instant:r,to:i}=t,a=E({queueItems:K.getTypeable(),selector:null===e?"":e,to:i,cursorPosition:M()}),o=a<0?-1:1;return J=M()+a,B([n[0],...v({func:()=>O(o),delay:r?0:D(),cursorable:!0},Math.abs(a)),n[1]],t)},this.options=function(e,t={}){return e=g(e),k(e),B({},t)},this.pause=function(e,t={}){return B({delay:g(e)},t)},this.type=function(e,t={}){e=g(e);let{instant:n}=t,r=x(t),i=f(e,X.html).map((e=>{return{func:()=>F(e),char:e,delay:n||(t=e,/<(.+)>(.*?)<\/(.+)>/.test(t.outerHTML))?0:D(),typeable:e.nodeType===Node.TEXT_NODE};var t})),a=[r[0],{func:async()=>await X.beforeString(e,this)},...i,{func:async()=>await X.afterString(e,this)},r[1]];return B(a,t)},this.is=function(e){return U[e]},this.destroy=function(e=!0){V.forEach(clearTimeout),V=[],g(e)&&Z&&S(Z),U.destroyed=!0},this.freeze=function(){U.frozen=!0},this.unfreeze=()=>{},this.reset=function(e){!this.is("destroyed")&&this.destroy(),e?(K.wipe(),e(this)):K.reset(),Q=0;for(let e in U)U[e]=!1;return z[L()?"value":"innerHTML"]="",this},this.go=function(){return U.started?this:(W(),X.waitUntilVisible?(((e,t)=>{new IntersectionObserver(((n,r)=>{n.forEach((n=>{n.isIntersecting&&(t(),r.unobserve(e))}))}),{threshold:1}).observe(e)})(z,H.bind(this)),this):(H(),this))},this.flush=function(e=(()=>{})){return W(),H(!1).then(e),this},this.getQueue=()=>K,this.getOptions=()=>X,this.updateOptions=e=>k(e),this.getElement=()=>z;let z="string"==typeof(j=e)?w(j):j;var j;let V=[],Q=0,J=null,U=T({},l);t.cursor=(e=>{if("object"==typeof e){let t={},{frames:n,options:r}=u.cursor.animation;return t.animation=e.animation||{},t.animation.frames=e.animation?.frames||n,t.animation.options=T(r,e.animation?.options||{}),t.autoPause=e.autoPause??u.cursor.autoPause,t.autoPauseDelay=e.autoPauseDelay||u.cursor.autoPauseDelay,t}return!0===e?u.cursor:e})(t.cursor??u.cursor);let X=T(u,t);X=T(X,{html:!L()&&X.html,nextStringDelay:_(X.nextStringDelay),loopDelay:_(X.loopDelay)});let G=Math.random().toString().substring(2,9),K=function(e){let t=function(e){return n(e).forEach((e=>a.set(Symbol(e.char?.innerText),r({...e})))),this},r=e=>(e.shouldPauseCursor=function(){return Boolean(this.typeable||this.cursorable||this.deletable)},e),i=()=>Array.from(a.values()),a=new Map;return t(e),{add:t,set:function(e,t){let n=[...a.keys()];a.set(n[e],r(t))},wipe:function(){a=new Map,t(e)},reset:function(){a.forEach((e=>delete e.done))},destroy:e=>a.delete(e),done:(e,t=!1)=>t?a.delete(e):a.get(e).done=!0,getItems:(e=!1)=>e?i():i().filter((e=>!e.done)),getQueue:()=>a,getTypeable:()=>i().filter((e=>e.typeable))}}([{delay:X.startDelay}]);z.dataset.typeitId=G,h("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}");let Y=!!X.cursor&&!L(),Z=(()=>{if(L())return;let e=d("span");return e.className=s,Y?(e.innerHTML=o(X.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)})();X.strings=(e=>{let t=z.innerHTML;return t?(z.innerHTML="",X.startDelete?(z.innerHTML=t,a(z),A(v({func:q,delay:D(1),deletable:!0},I().length)),e):t.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/).concat(e)):e})(n(X.strings)),X.strings.length&&(()=>{let e=X.strings.filter((e=>!!e));e.forEach(((t,n)=>{if(this.type(t),n+1===e.length)return;let r=X.breakLines?[{func:()=>F(d("BR")),typeable:!0}]:v({func:q,delay:D(1)},K.getTypeable().length);A(r)}))})()}}))}