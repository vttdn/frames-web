<!DOCTYPE html>
<html lang="{{ lang }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% if entry.meta_title %}{{ entry.meta_title }}{% else %}{{ entry.title }} - Frames{% endif %}</title>
    <meta name="description" content="{% if entry.meta_description %}{{ entry.meta_description }}{% else %}{{ entry.summary }}{% endif %}" />
    <meta name="keywords" content="{% if entry.meta_keywords %}{{ entry.meta_keywords }}{% else %}{{ locale_data.meta.keywords }}{% endif %}" />
    <link rel="canonical" href="https://withframes.com{{ lang_config.path }}{{ locale_data.urls.blog }}{{ entry.url_slug }}/" />
    {% for link in hreflang_links %}
    <link rel="alternate" hreflang="{{ link.hreflang }}" href="{{ link.href }}">
    {% endfor %}

    <!-- Open Graph -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="{% if entry.meta_title %}{{ entry.meta_title }}{% else %}{{ entry.title }} - Frames{% endif %}" />
    <meta property="og:description" content="{% if entry.meta_description %}{{ entry.meta_description }}{% else %}{{ entry.summary }}{% endif %}" />
    <meta property="og:url" content="https://withframes.com{{ lang_config.path }}{{ locale_data.urls.blog }}{{ entry.url_slug }}/" />
    <meta property="og:site_name" content="Frames" />
    <meta property="og:image" content="https://withframes.com{{ og_image_url }}" />
    <meta property="article:published_time" content="{{ entry.publish_date }}" />
    <meta property="og:locale" content="{{ lang_config.locale }}" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@{{ locale_data.social.twitter if locale_data.social is defined and locale_data.social.twitter else global_config.urls.social.handle.twitter }}" />
    <meta name="twitter:creator" content="@{{ locale_data.social.twitter if locale_data.social is defined and locale_data.social.twitter else global_config.urls.social.handle.twitter }}" />
    <meta name="twitter:title" content="{% if entry.meta_title %}{{ entry.meta_title }}{% else %}{{ entry.title }} - Frames{% endif %}" />
    <meta name="twitter:description" content="{% if entry.meta_description %}{{ entry.meta_description }}{% else %}{{ entry.summary }}{% endif %}" />
    <meta name="twitter:image" content="https://withframes.com{{ og_image_url }}" />

    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <style>
      {{ blog_css | safe }}
    </style>
  </head>
  <body>

    <header class="main-header wrapper">
        <div class="container-header grid">
            <a href="{{ lang_config.path }}" class="logo leading" aria-label="{{ locale_data.header.logo_aria_label }}">
                {{ locale_data.header.logo_text }}
            </a>

            <nav class="navigation center" aria-label="{{ locale_data.header.navigation.aria_label }}">
                <ul class="flex flex-row">
                    <li class="desktop-only"><a href="{{ locale_data.meta.canonical_url }}#features">{{ locale_data.header.navigation.features }}</a></li>
                    <li><a onclick="return false;" class="tooltip" data-tooltip="{{ locale_data.tooltip.label_coming_soon }}" href="{{ lang_config.path }}{{ locale_data.urls.documentation }}">{{ locale_data.header.navigation.documentation }}</a></li>
                    <li><a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}">{{ locale_data.header.navigation.changelog }}</a></li>
                    <li><a aria-current="page" href="{{ lang_config.path }}{{ locale_data.urls.blog }}">{{ locale_data.header.navigation.blog }}</a></li>
                </ul>
            </nav>

            <div class="trailing flex flex-row flex-center gap-sm">
                <button class="btn btn-sm btn-dark mobile-hidden" id="button-social-share"
                    aria-controls="overlay" aria-expanded="false">
                    <span>{{ locale_data.header.buttons.share }}</span>
                </button>

                <a href="{{ locale_data.urls.appstore_macos }}" class="btn btn-sm btn-light desktop-up">{{ locale_data.header.buttons.download }}</a>
                <a href="{{ locale_data.urls.appstore_ios }}" class="btn btn-sm btn-light tablet-only">{{ locale_data.header.buttons.download }}</a>
                <a href="{{ locale_data.urls.appstore_ios }}" class="btn btn-sm btn-dark desktop-hidden">{{ locale_data.header.buttons.download }}</a>

                <button id="menu-toggle" class="mobile-menu-toggle"
                    aria-label="{{ locale_data.mobile_menu.open_aria_label }}"
                    aria-controls="overlay"
                    aria-expanded="false">
                    <img src="/lib/img/icn/menu.svg" alt="" width="32" height="32" loading="lazy" aria-hidden="true">
                </button>
            </div>
        </div>
    </header>

    <main class="blog blog-entry hero wrapper">
      
      <article class="grid grid-4col">
        <div class="topics-nav">
            <a href="{{ lang_config.path }}{{ locale_data.urls.blog }}">{{ locale_data.blog.heading }}</a>
            {% if entry.category %}
            <span> / </span>
            <a href="{{ lang_config.path }}{{ locale_data.urls.blog }}topic/{{ blog_config.categories[entry.category][lang].slug }}/" class="blog-entry-category badge">
            {{ blog_config.categories[entry.category][lang].name }}
            </a>
            {% endif %}
        </div>

        <div class="blog-article-main col-span-2">
          <header class="blog-entry-header flex flex-col gap-sm">
            <h1>{{ entry.title }}</h1>
            <p class="blog-entry-meta">
              <time datetime="{{ entry.update_date }}">{{ entry.formatted_update_date }}</time>
              {% if entry.author %}
              <span> {{ locale_data.blog.labels.by_author }} {{ entry.author }}</span>
              {% endif %}
            </p>
          </header>

          {% set headings = [] %}
          {% for section in entry.sections %}
            {% if section.type == 'heading' %}
              {% set _ = headings.append(section) %}
            {% endif %}
          {% endfor %}

          {% if headings|length > 0 %}
          <nav class="toc tile" aria-label="Table of contents">
              <div class="tile-inner">
                  <h3>{{ locale_data.blog.labels.contents if locale_data.blog.labels.contents is defined else 'Contents' }}</h3>
                  <ul>
                      {% for heading in headings %}
                      <li><a href="#{{ heading.content|lower|replace(' ', '-')|replace(',', '')|replace('.', '')|replace(':', '')|replace('&', 'and')|replace("'", '') }}">{{ heading.content }}</a></li>
                      {% endfor %}
                  </ul>
              </div>
          </nav>
          {% endif %}

          {% for section in entry.sections %}
          {% if section.type == 'heading' %}
          <h2 id="{{ section.content|lower|replace(' ', '-')|replace(',', '')|replace('.', '')|replace(':', '')|replace('&', 'and')|replace("'", '') }}">{{ section.content }}</h2>
          {% elif section.type == 'paragraph' %}
          <p>{{ section.content|convert_links|safe }}</p>
          {% elif section.type == 'list' %}
          <ul>
            {% for item in section['items'] %}
            <li>
              <div class="bullet-point">
                {% if item.title %}<strong>{{ item.title }}</strong>: {% endif %}{{ item.description }}
              </div>
            </li>
            {% endfor %}
          </ul>
          {% elif section.type == 'media' %}
          <div class="blog-media">
            <figure>
                <div class="tile container-ratio ratio-4-3">
                    <div class="tile-inner">
                        <img src="{{ section.image }}"
                            srcset="{{ section.image }} 1x, {{ section.image_2x }} 2x"
                            alt="{{ section.alt }}"
                            width="{{ section.width }}" height="{{ section.height }}" loading="lazy">
                    </div>
                </div>
                {% if section.caption %}
                <figcaption>{{ section.caption }}</figcaption>
                {% endif %}
            </figure>
          </div>
          {% endif %}
          {% endfor %}

          <footer class="blog-entry-footer flex flex-col">
            {% if entry.category %}
            <div>
              <span>{{ locale_data.blog.labels.filed_under }}: </span>
              <a href="{{ lang_config.path }}{{ locale_data.urls.blog }}topic/{{ blog_config.categories[entry.category][lang].slug }}/">{{ blog_config.categories[entry.category][lang].name }}</a>
            </div>
            {% endif %}
            {% if entry.author %}
            <div>
              <span>{{ locale_data.blog.labels.author }}:</span> {{ entry.author }}
            </div>
            {% endif %}
            {% if entry.update_date %}
            <div>
              <span>{{ locale_data.blog.labels.published_on }}:</span> <time datetime="{{ entry.publish_date }}">{{ entry.formatted_date }}</time>
            </div>
            {% endif %}
          </footer>
        </div>
      </article>

      <nav class="pagination grid grid-4col" aria-label="Blog entry navigation">
        <div></div>
        <div class="pagination-inner col-span-2 flex gap-sm2">
        {% if prev_entry %}
        <div class="pagination-prev col-start-2 tile">
          <a href="{{ lang_config.path }}{{ locale_data.urls.blog }}{{ prev_entry.url_slug }}/" class="tile-inner">
            <span class="pagination-label">← {{ locale_data.blog.labels.previous }}</span>
            <span class="pagination-title">{{ prev_entry.title }}</span>
          </a>
        </div>
        {% endif %}

        {% if next_entry %}
        <div class="pagination-next tile">
          <a href="{{ lang_config.path }}{{ locale_data.urls.blog }}{{ next_entry.url_slug }}/" class="tile-inner">
            <span class="pagination-label">{{ locale_data.blog.labels.next }} →</span>
            <span class="pagination-title">{{ next_entry.title }}</span>
          </a>
        </div>
        {% endif %}
        </div>
      </nav>
    </main>

    <aside class="wrapper">
        <section class="contact tile container-ratio ratio-2-1" aria-labelledby="contact-heading">
            <div class="contact-inner flex flex-col flex-center flex-justify-center">
                <h2 id="contact-heading">{{ locale_data.contact.heading }}</h2>
                <a href="mailto:&#98;&#111;&#110;&#106;&#111;&#117;&#114;&#64;&#119;&#105;&#116;&#104;&#102;&#114;&#97;&#109;&#101;&#115;&#46;&#99;&#111;&#109;" class="btn btn-md btn-secondary">{{ locale_data.contact.button_text }}</a>
            </div>
        </section>
    </aside>

    <footer class="main-footer wrapper flex flex-col gap-6xl">
        <div class="footer-links grid grid-4col">
            <a href="{{ lang_config.path }}" aria-label="{{ locale_data.header.logo_aria_label }}" class="w-fit">
                <img src="/lib/img/logo/frames.svg" alt="{{ locale_data.footer.logo_alt }}" width="40" height="40">
            </a>
            <ul class="flex flex-col gap-sm2">
                <li><h3>{{ locale_data.footer.connect.heading }}</h3></li>
                <li><a href="https://www.instagram.com/{{ locale_data.social.instagram if locale_data.social is defined and locale_data.social.instagram else global_config.urls.social.handle.instagram }}" target="_blank" rel="noopener noreferrer">{{
                        locale_data.footer.connect.instagram }}</a></li>
                <li><a href="https://www.threads.net/@with_frames" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.threads }}</a></li>
                <li><a href="https://www.facebook.com/framesapp" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.facebook }}</a></li>
                <li><a href="https://bsky.app/profile/withframes.com" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.bluesky }}</a></li>
                <li><a href="https://mastodon.social/@frames" target="_blank" rel="me noopener noreferrer">{{ locale_data.footer.connect.mastodon }}</a></li>
                <li><a href="{{ global_config.urls.social.linkedin }}" target="_blank" rel="noopener noreferrer">LinkedIn</a></li>
                <li><a href="{{ global_config.urls.social.pinterest }}" target="_blank" rel="noopener noreferrer">Pinterest</a></li>
                <li><a href="https://x.com/{{ locale_data.social.twitter if locale_data.social is defined and locale_data.social.twitter else global_config.urls.social.handle.twitter }}" target="_blank" rel="noopener noreferrer">{{
                        locale_data.footer.connect.twitter }}</a></li>
            </ul>
            <ul class="flex flex-col gap-sm2">
                <li><h3>{{ locale_data.footer.resources.heading }}</h3></li>
                <li><a href="{{ lang_config.path }}{{ locale_data.urls.privacy }}">{{ locale_data.footer.resources.privacy_policy }}</a></li>
                <li><a href="https://www.apple.com/legal/internet-services/itunes/dev/stdeula/" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.resources.terms_of_service }}</a></li>
                <li><a onclick="return false;" class="tooltip" data-tooltip="{{ locale_data.tooltip.label_coming_soon }}" href="{{ lang_config.path }}{{ locale_data.urls.documentation }}">{{ locale_data.header.navigation.documentation }}</a></li>
                <li><a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}">{{ locale_data.footer.resources.changelog }}</a></li>
                <!-- <li><a href="{% if lang == 'en' %}/changelog/rss/index.rss{% else %}/{{ lang }}/changelog/rss/index.rss{% endif %}">{{ locale_data.footer.resources.rss }}</a></li> -->
                <li><a href="{{ global_config.urls.social.youtube }}" target="_blank" rel="noopener noreferrer">{{
                        locale_data.footer.resources.youtube }}</a></li>
                <li><a href="{% if lang in available_blog_languages %}{{ lang_config.path }}{{ locale_data.urls.blog }}{% else %}/blog/{% endif %}">{{ locale_data.footer.resources.blog }}</a></li>
            </ul>
            <ul class="flex flex-col gap-sm2">
                <li><h3>{{ locale_data.footer.product.heading }}</h3></li>
                <li><a href="{{ locale_data.urls.appstore_ios }}">{{ locale_data.footer.product.frames_ios }}</a></li>
                <li><a href="{{ locale_data.urls.appstore_macos }}">{{ locale_data.footer.product.frames_macos }}</a></li>
            </ul>
        </div>

        <div class="footer-bottom flex flex-row flex-justify-between flex-center">
            <div class="flex flex-center flex-justify-center gap-lg">
                <p>© 2025 <a href="https://vnn.io/" rel="noopener noreferrer author" target="_blank">Vincent Tantardini</a>.</p>
                {% if locale_data.footer.compliance %}
                <p class="flex flex-center flex-justify-center mobile-hidden">
                    <img src="/lib/img/icn/checkmark-shield.svg" width="14" height="14" alt="" loading="lazy" aria-hidden="true" class="compliance-icon">
                    {{ locale_data.footer.compliance }}
                </p>
                {% endif %}
            </div>

                <div class="dropdown">
                    <input type="checkbox" class="dropdown-toggle" id="lang-toggle">

                    <label for="lang-toggle" class="dropdown-button btn btn-sm btn-dark">
                        <img src="/lib/img/icn/globe.svg" alt="Globe Icon" loading="lazy" width="14" height="12" aria-hidden="true">
                        <span>{{ locale_data.footer.language_dropdown.label }}</span>
                        <img src="/lib/img/icn/chevron-down-sm.svg" alt="Chevron Down" width="10" height="12" loading="lazy" aria-hidden="true">
                    </label>

                    <ul class="dropdown-content dropdown-dir-top" role="menu">
                        {% for language in all_languages %}
                        <li>
                            <a role="menuitem" href="{% if language.code in available_blog_languages and language.code in article_translations %}{{ language.url }}blog/{{ article_translations[language.code] }}/{% else %}{{ language.url }}{% endif %}">
                                <span>{{ language.name }}</span>
                                {% if language.code == lang %}
                                <span>✓</span>
                                {% endif %}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
        </div>
    </footer>

    <!-- Main Overlay -->
    <div class="overlay flex flex-center flex-justify-center" id="overlay" role="dialog"
        aria-modal="true" aria-labelledby="" hidden>
        <div class="modal" id="modal-container"></div>
    </div>

    {% if lang == 'en' %}
    <script defer src="/lib/js/blog/core.js"></script>
    {% else %}
    <script defer src="/lib/js/{{ lang }}/blog/core.js"></script>
    {% endif %}
  </body>
</html>
