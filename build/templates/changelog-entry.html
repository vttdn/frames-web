<!DOCTYPE html>
<html lang="{{ lang }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% if entry.meta_title %}{{ entry.meta_title }}{% else %}{{ entry.title }} · Frames{% endif %}</title>
    <meta name="description" content="{% if entry.meta_description %}{{ entry.meta_description }}{% else %}{{ entry.summary }}{% endif %}" />
    <link rel="canonical" href="https://withframes.com/changelog/{{ entry.url_slug }}/" />
    {% for link in hreflang_links %}
    <link rel="alternate" hreflang="{{ link.hreflang }}" href="{{ link.href }}">
    {% endfor %}

    <!-- Open Graph -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="{% if entry.meta_title %}{{ entry.meta_title }}{% else %}{{ entry.title }} · Frames{% endif %}" />
    <meta property="og:description" content="{% if entry.meta_description %}{{ entry.meta_description }}{% else %}{{ entry.summary }}{% endif %}" />
    <meta property="og:url" content="https://withframes.com/changelog/{{ entry.url_slug }}/" />
    <meta property="og:site_name" content="Frames" />
    <meta property="og:image" content="https://withframes.com/og-image.jpg" />
    <meta property="article:published_time" content="{{ entry.release_date }}" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{% if entry.meta_title %}{{ entry.meta_title }}{% else %}{{ entry.title }} · Frames{% endif %}" />
    <meta name="twitter:description" content="{% if entry.meta_description %}{{ entry.meta_description }}{% else %}{{ entry.summary }}{% endif %}" />
    <meta name="twitter:image" content="https://withframes.com/og-image.jpg" />

    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <style>
      {{ changelog_css | safe }}
    </style>
  </head>
  <body>

    <header class="main-header wrapper">
        <div class="container-header">
            <a href="{{ lang_config.path }}" class="logo leading" aria-label="{{ locale_data.header.logo_aria_label }}">
                <span>{{ locale_data.header.logo_text }}</span>
            </a>

            <nav class="navigation center" aria-label="{{ locale_data.header.navigation.aria_label }}">
                <ul class="flex flex-row">
                    <li class="desktop-only"><a href="{{ lang_config.path }}#features">{{ locale_data.header.navigation.features }}</a></li>
                    <li><a class="tooltip" data-tooltip="{{ locale_data.tooltip.label_coming_soon }}">{{ locale_data.header.navigation.documentation }}</a></li>
                    <li><a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}">{{ locale_data.header.navigation.changelog }}</a></li>
                </ul>
            </nav>

            <div class="trailing flex flex-row flex-center gap-sm">
                
                <button class="dropdown-button btn btn-sm btn-dark mobile-hidden" id="button-social-share" aria-controls="overlay-social-share" aria-expanded="false">
                        <span>{{ locale_data.header.buttons.share }}</span>
                </button>
                <a href="{{ locale_data.urls.appstore_macos }}" class="btn btn-sm btn-light mobile-hidden">{{ locale_data.header.buttons.download }}</a>
                <a href="{{ locale_data.urls.appstore_ios }}" class="btn btn-sm btn-dark desktop-hidden">{{ locale_data.header.buttons.download }}</a>

                <div class="mobile-menu">
                    <input type="checkbox" id="mobile-menu-toggle" class="overlay-toggle" aria-hidden="true" tabindex="-1">

                    <label for="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="{{ locale_data.mobile_menu.open_aria_label }}">
                        <img src="/lib/img/icn/menu.svg" alt="Menu Icon" width="32" height="32" loading="lazy" aria-hidden="true">
                    </label>

                    <div class="mobile-menu-overlay overlay">
                        <label for="mobile-menu-toggle" class="overlay-close" aria-label="{{ locale_data.mobile_menu.close_aria_label }}">
                            <img src="/lib/img/icn/xmark.svg" alt="x Mark Icon" width="32" height="32" loading="lazy" aria-hidden="true">
                        </label>

                        <nav class="mobile-menu-nav" aria-label="{{ locale_data.mobile_menu.navigation_aria_label }}">
                            <ul class="flex flex-col">
                                <li><a href="{{ lang_config.path }}#features">{{ locale_data.mobile_menu.features }}</a></li>
                                <li><a href="/docs/">{{ locale_data.mobile_menu.documentation }}</a></li>
                                <li><a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}">{{ locale_data.mobile_menu.changelog }}</a></li>
                                <li><a href="{{ lang_config.path }}{{ locale_data.urls.privacy }}">{{ locale_data.mobile_menu.privacy }}</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="changelog wrapper">
      <header class="changelog-header grid grid-4col">
        <div class="col-start-2 col-span-2">
          <a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}">{{ locale_data.changelog.heading }}</a>
        </div>
      </header>

      <article class="grid grid-4col">
        <div class="release-info">
          <div class="release-info-inner flex flex-center flex-justify-start gap-xs2">

          <div class="flex flex-center flex-justify-start gap-xs2">
            <span class="release-number">{{ locale_data.changelog.labels['platform_' + entry.platform] }} {{ entry.version_short }}</span>
            <time datetime="{{ entry.release_date }}" class="release-datetime">{{ entry.formatted_date }}</time>
          </div>

          <span class="changelog-dot">·</span>
          
          <a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}" class="release-page-title">
            <span>{{ locale_data.changelog.heading }}</span>
          </a>
          </div>
        </div>

        <div class="changelog-article-main col-span-2">
          <h1>{{ entry.title }}</h1>
          <p>{{ entry.summary }}</p>

          {% for section in entry.sections %}
          {% if section.type == 'heading' %}
          <h2>{{ section.content }}</h2>
          {% elif section.type == 'paragraph' %}
          <p>
            {{ section.content }}
            {% if section.link %}
            <a href="{{ section.link.url }}">{{ section.link.text }}</a>
            {% endif %}
          </p>
          {% elif section.type == 'list' %}
          <ul>
            {% for item in section['items'] %}
            <li>
              <div class="bullet-point">
                {% if item.title %}<strong>{{ item.title }}</strong>: {% endif %}{{ item.description }}
              </div>
            </li>
            {% endfor %}
          </ul>
          {% elif section.type == 'media' %}
          <div class="changelog-media">
            <figure class="tile container-ratio ratio-4-3">
                <div class="tile-inner">
                    <img src="{{ section.image }}"
                        srcset="{{ section.image }} 1x, {{ section.image_2x }} 2x"
                        alt="{{ section.alt }}"
                        width="{{ section.width }}" height="{{ section.height }}" loading="lazy">
                </div>
            </figure>
          </div>
          {% endif %}
          {% endfor %}

          <div class="changelog-details flex flex-col">
            {% if entry.improvements %}
            <details>
                    <summary class="flex flex-justify-between">
                        <h3>{{ locale_data.changelog.labels.improvements }} ({{ entry.improvements|length }})</h3>
                        <div class="details-icon flex flex-center flex-justify-center" aria-hidden="true">
                            <img src="/lib/img/icn/chevron-down.svg" alt="" loading="lazy">
                        </div>
                    </summary>
                    <ul>
                      {% for improvement in entry.improvements %}
                      <li>
                        <div class="bullet-point">
                          {{ improvement }}
                        </div>
                      </li>
                      {% endfor %}
                    </ul>
                </details>
            {% endif %}

            {% if entry.fixes %}
            <details>
                    <summary class="flex flex-justify-between">
                        <h3>{{ locale_data.changelog.labels.fixes }} ({{ entry.fixes|length }})</h3>
                        <div class="details-icon flex flex-center flex-justify-center" aria-hidden="true">
                            <img src="/lib/img/icn/chevron-down.svg" alt="" loading="lazy">
                        </div>
                    </summary>
                    <ul>
                      {% for fix in entry.fixes %}
                      <li>
                        <div class="bullet-point">
                          {% if fix is string %}
                          {{ fix }}
                          {% else %}
                          <strong>{{ fix.title }}</strong>: {{ fix.description }}
                          {% endif %}
                        </div>
                      </li>
                      {% endfor %}
                    </ul>
                </details>
            {% endif %}

            {% if entry.patches %}
            <details>
                    <summary class="flex flex-justify-between">
                        <h3>{{ locale_data.changelog.labels.patches }} ({{ entry.patches|length }})</h3>
                        <div class="details-icon flex flex-center flex-justify-center" aria-hidden="true">
                            <img src="/lib/img/icn/chevron-down.svg" alt="" loading="lazy">
                        </div>
                    </summary>
                    <ul>
                      {% for patch in entry.patches %}
                      <li>
                        <div class="bullet-point">
                          <span>{{ patch.version }}</span><span>:</span> <span>{{ patch.description }}</span>
                        </div>
                      </li>
                      {% endfor %}
                    </ul>
                </details>
            {% endif %}
          </div>
        </div>
      </article>

      <nav class="pagination grid grid-4col" aria-label="Changelog entry navigation">
        <div></div>
        <div class="pagination-inner col-span-2 flex gap-sm2">
        {% if prev_entry %}
        <div class="pagination-prev col-start-2 tile">
          <a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}{{ prev_entry.url_slug }}/" class="tile-inner">
            <span class="pagination-label">← {{ locale_data.changelog.labels.previous }}</span>
            <span class="pagination-title">{{ prev_entry.title }}</span>
          </a>
        </div>
        {% endif %}

        {% if next_entry %}
        <div class="pagination-next tile">
          <a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}{{ next_entry.url_slug }}/" class="tile-inner">
            <span class="pagination-label">{{ locale_data.changelog.labels.next }} →</span>
            <span class="pagination-title">{{ next_entry.title }}</span>
          </a>
        </div>
        {% endif %}
        </div>
      </nav>
    </main>

    <aside class="wrapper">
        <section class="contact tile container-ratio ratio-2-1" aria-labelledby="contact-heading">
            <div class="contact-inner flex flex-col flex-center flex-justify-center">
                <h2 id="contact-heading">{{ locale_data.contact.heading }}</h2>
                <a href="mailto:&#104;&#105;&#64;&#119;&#105;&#116;&#104;&#102;&#114;&#97;&#109;&#101;&#115;&#46;&#99;&#111;&#109;" class="btn btn-md btn-secondary">{{ locale_data.contact.button_text }}</a>
            </div>
        </section>
    </aside>

    <footer class="main-footer wrapper flex flex-col gap-6xl">
        <div class="footer-links grid grid-4col">
            <a href="{{ lang_config.path }}" aria-label="{{ locale_data.header.logo_aria_label }}" class="w-fit">
                <img src="/lib/img/logo/frames.svg" alt="{{ locale_data.footer.logo_alt }}" width="40" height="40">
            </a>
            <ul class="flex flex-col gap-sm2">
                <li><h3>{{ locale_data.footer.connect.heading }}</h3></li>
                <li><a href="https://www.instagram.com/with_frames/" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.instagram }}</a></li>
                <li><a href="https://www.threads.net/@with_frames" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.threads }}</a></li>
                <li><a href="https://www.facebook.com/framesapp" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.facebook }}</a></li>
                <li><a href="https://bsky.app/profile/withframes.bsky.social" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.bluesky }}</a></li>
                <li><a href="https://mastodon.social/@frames" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.mastodon }}</a></li>
                <li><a href="https://twitter.com/withframes" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.connect.twitter }}</a></li>
            </ul>
            <ul class="flex flex-col gap-sm2">
                <li><h3>{{ locale_data.footer.resources.heading }}</h3></li>
                <li><a href="{{ lang_config.path }}{{ locale_data.urls.privacy }}">{{ locale_data.footer.resources.privacy_policy }}</a></li>
                <li><a href="https://www.apple.com/legal/internet-services/itunes/dev/stdeula/" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.resources.terms_of_service }}</a></li>
                <li><a class="tooltip" data-tooltip="{{ locale_data.tooltip.label_coming_soon }}">{{ locale_data.footer.resources.documentation }}</a></li>
                <li><a href="{{ lang_config.path }}{{ locale_data.urls.changelog }}">{{ locale_data.footer.resources.changelog }}</a></li>
                <li><a href="https://www.youtube.com/@withframes" target="_blank" rel="noopener noreferrer">{{ locale_data.footer.resources.youtube }}</a></li>
            </ul>
            <ul class="flex flex-col gap-sm2">
                <li><h3>{{ locale_data.footer.product.heading }}</h3></li>
                <li><a href="{{ locale_data.urls.appstore_ios }}">{{ locale_data.footer.product.frames_ios }}</a></li>
                <li><a href="{{ locale_data.urls.appstore_macos }}">{{ locale_data.footer.product.frames_macos }}</a></li>
            </ul>
        </div>

        <div class="footer-bottom flex flex-row flex-justify-between flex-center">
            <p>{{ locale_data.footer.copyright }} <span class="mobile-hidden">{{ locale_data.footer.all_rights_reserved }}</span></p>

                <div class="dropdown">
                    <input type="checkbox" class="dropdown-toggle" id="lang-toggle">

                    <label for="lang-toggle" class="dropdown-button btn btn-sm btn-dark">
                        <img src="/lib/img/icn/globe.svg" alt="Globe Icon" loading="lazy">
                        <span>{{ locale_data.footer.language_dropdown.label }}</span>
                        <img src="/lib/img/icn/chevron-down-sm.svg" alt="Chevron Down" width="10" height="12" loading="lazy">
                    </label>

                    <ul class="dropdown-content dropdown-dir-top" role="menu">
                        {% for language in all_languages %}
                        <li>
                            <a role="menuitem" href="{% if language.code in available_changelog_languages %}{{ language.url }}changelog/{{ entry.url_slug }}/{% else %}/changelog/{{ entry.url_slug }}/{% endif %}">
                                <span>{{ language.name }}</span>
                                {% if language.code == lang %}
                                <span>✓</span>
                                {% endif %}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
        </div>
    </footer>

    <div class="overlay-social-share flex flex-center flex-justify-center" id="overlay-social-share" role="dialog" aria-modal="true" aria-labelledby="overlay-social-share-title">
    <div class="modal">
        <div class="flex flex-justify-between flex-center">
            <h3 id="overlay-social-share-title">{{ locale_data.header.buttons.share }}</h3>

            <button class="overlay-social-share-close flex flex-center flex-justify-center"
                id="button-social-share-close">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill=""
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="size-4">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <div class="grid grid-3col">
            <a href="#" onclick="shareOn('facebook'); return false;">
                <div class="social-share-icon">
                    <img src="/lib/img/icn/facebook.svg" alt="{{ locale_data.share_dropdown.facebook }} Icon" width="14"
                        height="14" loading="lazy" class="social-icon">
                </div>
            </a>

            <a href="#" onclick="shareOn('twitter'); return false;">
                <div class="social-share-icon">
                    <img src="/lib/img/icn/twitter.svg" alt="{{ locale_data.share_dropdown.twitter }} Icon" width="14"
                        height="14" loading="lazy" class="social-icon">
                </div>
            </a>

            <a href="#" onclick="shareOn('linkedin'); return false;">
                <div class="social-share-icon">
                    <img src="/lib/img/icn/linkedin.svg" alt="{{ locale_data.share_dropdown.linkedin }} Icon" width="14"
                        height="14" loading="lazy" class="social-icon">
                </div>
            </a>

            <a href="#" onclick="shareOn('whatsapp'); return false;">
                <div class="social-share-icon">
                    <img src="/lib/img/icn/whatsapp.svg" alt="{{ locale_data.share_dropdown.whatsapp }} Icon" width="14"
                        height="14" loading="lazy" class="social-icon">
                </div>
            </a>

            <a href="#" onclick="shareOn('reddit'); return false;">
                <div class="social-share-icon">
                    <img src="/lib/img/icn/reddit.svg" alt="{{ locale_data.share_dropdown.reddit }} Icon" width="14"
                        height="14" loading="lazy" class="social-icon">
                </div>
            </a>

            <a href="#" onclick="shareOn('email'); return false;">
                <div class="social-share-icon">
                    <img src="/lib/img/icn/paperplane.svg" alt="{{ locale_data.share_dropdown.email }} Icon" width="14"
                        height="14" loading="lazy" class="social-icon">
                </div>
            </a>
        </div>
    </div>
</div>

    {% if lang == 'en' %}
    <script defer src="/lib/js/changelog/core.js"></script>
    {% else %}
    <script defer src="/lib/js/{{ lang }}/changelog/core.js"></script>
    {% endif %}
  </body>
</html>
